{"ast":null,"code":"import axios from 'axios';\nimport FormData from 'form-data';\nimport * as actionTypes from './actionTypes';\nexport const submitAppointmentSuccess = (appId, Message) => {\n  return {\n    type: actionTypes.SUBMIT_APPOINTMENT_SUCCESS,\n    appId,\n    Message\n  };\n};\nexport const submitAppointmentFailure = error => {\n  return {\n    type: actionTypes.SUBMIT_APPOINTMENT_FAILURE,\n    error: error\n  };\n};\nexport const submitAppointment = appointmentData => {\n  return dispatch => {\n    let userData = new FormData();\n\n    for (const key in ['appdate', 'appday', 'ctime', 'name', 'appregid', 'patientid', 'pid', 'pname', 'speciality', 'service', 'application_id', 'servicedet_string']) {\n      userData.append(key, appointmentData[key]);\n    }\n\n    userData.append('city', appointmentData['cityname']);\n    userData.append('clinic', appointmentData['clinicid']);\n    console.log(userData);\n    axios.post(actionTypes.API_URL + \"Appointments/create/\", userData).then(response => {\n      console.log('inside appointment creation call');\n      console.log(JSON.stringify(response.data));\n      let appointmentCreationResponse = response.data;\n\n      if (response.data.success === 1) {\n        dispatch(submitAppointmentSuccess(appointmentCreationResponse.appid, appointmentCreationResponse.Message));\n      } else {\n        dispatch(submitAppointmentFailure(appointmentCreationResponse.error.errormsg));\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};","map":{"version":3,"sources":["/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/src/store/actions/submitAppointment.js"],"names":["axios","FormData","actionTypes","submitAppointmentSuccess","appId","Message","type","SUBMIT_APPOINTMENT_SUCCESS","submitAppointmentFailure","error","SUBMIT_APPOINTMENT_FAILURE","submitAppointment","appointmentData","dispatch","userData","key","append","console","log","post","API_URL","then","response","JSON","stringify","data","appointmentCreationResponse","success","appid","errormsg","catch","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AAEA,OAAO,MAAMC,wBAAwB,GAAG,CAACC,KAAD,EAAQC,OAAR,KAAoB;AAC1D,SAAO;AACLC,IAAAA,IAAI,EAAEJ,WAAW,CAACK,0BADb;AAELH,IAAAA,KAFK;AAGLC,IAAAA;AAHK,GAAP;AAKD,CANM;AAQP,OAAO,MAAMG,wBAAwB,GAAIC,KAAD,IAAW;AACjD,SAAO;AACLH,IAAAA,IAAI,EAAEJ,WAAW,CAACQ,0BADb;AAELD,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,MAAME,iBAAiB,GAAIC,eAAD,IAAqB;AACpD,SAAOC,QAAQ,IAAI;AACjB,QAAIC,QAAQ,GAAG,IAAIb,QAAJ,EAAf;;AACA,SAAK,MAAMc,GAAX,IAAkB,CAAC,SAAD,EAAY,QAAZ,EAAsB,OAAtB,EAA+B,MAA/B,EAAuC,UAAvC,EAAmD,WAAnD,EAAgE,KAAhE,EAAuE,OAAvE,EAAgF,YAAhF,EAA8F,SAA9F,EAAyG,gBAAzG,EAA2H,mBAA3H,CAAlB,EAAmK;AACjKD,MAAAA,QAAQ,CAACE,MAAT,CAAgBD,GAAhB,EAAqBH,eAAe,CAACG,GAAD,CAApC;AACD;;AACDD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBJ,eAAe,CAAC,UAAD,CAAvC;AACAE,IAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0BJ,eAAe,CAAC,UAAD,CAAzC;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACAd,IAAAA,KAAK,CAACmB,IAAN,CAAWjB,WAAW,CAACkB,OAAZ,GAAsB,sBAAjC,EAAyDN,QAAzD,EAAmEO,IAAnE,CACEC,QAAQ,IAAI;AACVL,MAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYK,IAAI,CAACC,SAAL,CAAeF,QAAQ,CAACG,IAAxB,CAAZ;AACA,UAAIC,2BAA2B,GAAGJ,QAAQ,CAACG,IAA3C;;AACA,UAAIH,QAAQ,CAACG,IAAT,CAAcE,OAAd,KAA0B,CAA9B,EAAiC;AAC/Bd,QAAAA,QAAQ,CAACV,wBAAwB,CAACuB,2BAA2B,CAACE,KAA7B,EAAoCF,2BAA2B,CAACrB,OAAhE,CAAzB,CAAR;AACD,OAFD,MAEO;AACLQ,QAAAA,QAAQ,CAACL,wBAAwB,CAACkB,2BAA2B,CAACjB,KAA5B,CAAkCoB,QAAnC,CAAzB,CAAR;AACD;AACF,KAVH,EAUKC,KAVL,CAUWC,GAAG,IAAI;AAChBd,MAAAA,OAAO,CAACC,GAAR,CAAYa,GAAZ;AACD,KAZD;AAaD,GArBD;AAsBD,CAvBM","sourcesContent":["import axios from 'axios';\nimport FormData from 'form-data';\nimport * as actionTypes from './actionTypes';\n\nexport const submitAppointmentSuccess = (appId, Message) => {\n  return {\n    type: actionTypes.SUBMIT_APPOINTMENT_SUCCESS,\n    appId,\n    Message\n  };\n};\n\nexport const submitAppointmentFailure = (error) => {\n  return {\n    type: actionTypes.SUBMIT_APPOINTMENT_FAILURE,\n    error: error\n  };\n};\n\nexport const submitAppointment = (appointmentData) => {\n  return dispatch => {\n    let userData = new FormData();\n    for (const key in ['appdate', 'appday', 'ctime', 'name', 'appregid', 'patientid', 'pid', 'pname', 'speciality', 'service', 'application_id', 'servicedet_string']) {\n      userData.append(key, appointmentData[key]);\n    }\n    userData.append('city', appointmentData['cityname']);\n    userData.append('clinic', appointmentData['clinicid']);\n    console.log(userData);\n    axios.post(actionTypes.API_URL + \"Appointments/create/\", userData).then(\n      response => {\n        console.log('inside appointment creation call');\n        console.log(JSON.stringify(response.data));\n        let appointmentCreationResponse = response.data;\n        if (response.data.success === 1) {\n          dispatch(submitAppointmentSuccess(appointmentCreationResponse.appid, appointmentCreationResponse.Message));\n        } else {\n          dispatch(submitAppointmentFailure(appointmentCreationResponse.error.errormsg));\n        }\n      }).catch(err => {\n      console.log(err);\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}