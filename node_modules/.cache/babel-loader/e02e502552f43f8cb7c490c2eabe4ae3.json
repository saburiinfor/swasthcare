{"ast":null,"code":"import _classCallCheck from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Col,CustomInput,Input,Row}from\"reactstrap\";import MediaElementGroup from\"../../components/Common/Media/MediaElementGroup\";import ImgWithOverlayTextGroup from\"../ImgWithOverlayText/ImgWithOverlayTextGroup\";import{Helmet}from'react-helmet';import{Link,Redirect}from\"react-router-dom\";import{connect}from'react-redux';import*as actions from\"../../store/actions/index\";import Breadcrumb from\"../../components/Common/Breadcrumb/Breadcrumb\";import UserProfile from\"../UserProfile/UserProfile\";import styles from\"../SelectAppointmentDate/SelectAppointmentDate.module.scss\";import WizardButtons from\"../../components/Common/WizardButtons/WizardButtons\";function CityOptions(cityList){var activeCities=cityList.cityList.filter(function(city){return city.status===\"Active\";});var optList=activeCities.map(function(item){return/*#__PURE__*/React.createElement(\"option\",{key:item.id,value:item.id},item.name);});return optList;}var NewApointment=/*#__PURE__*/function(_Component){_inherits(NewApointment,_Component);var _super=_createSuper(NewApointment);function NewApointment(props){var _this;_classCallCheck(this,NewApointment);_this=_super.call(this,props);_this.handleAppointmentTypeChange=function(e){_this.setState({appointmentType:e.target.value});};_this.handleCityChange=function(e){_this.setState({city:e.target.value});};_this.handlerNextBtnClick=function(){_this.state.appointmentData.city=_this.state.city;_this.state.appointmentData.appointmentType=_this.state.appointmentType;_this.props.onSetAppointmentData(_this.state.appointmentData);};_this.state={cityList:[],appointmentTypeList:[],appointmentData:{city:null,appointmentType:null,phyId:null}};_this.nextBtn=React.createRef();_this.handlerNextBtnClick.bind(_assertThisInitialized(_this));return _this;}_createClass(NewApointment,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.onGetUserProfile(sessionStorage.getItem('token'));this.props.onGetCities();this.props.onGetAppointmentTypeList();// this.props.onGetPhysicianList();\n}},{key:\"render\",value:function render(){var _this2=this;if(this.props.userProfile.success===0){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}var btnGroup=this.props.appointmentTypeList.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{className:\"form-check\",key:item.id},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"react-tips\",value:item.id,onClick:_this2.handleAppointmentTypeChange,className:\"form-check-input\"}),item.label));});return/*#__PURE__*/React.createElement(Col,{md:\"12\",className:\"mt10\"},/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"style\",null,'.header .logo h2{color:#333;} .mt10{margin-top:10px;} main{ background: #fff; } .header .search{border:1px solid #ccc} .header{border-bottom:1px solid #666} ')),this.props.profileCompliant===false&&/*#__PURE__*/React.createElement(UserProfile,null),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"8\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"New appointment\"),/*#__PURE__*/React.createElement(Breadcrumb,{activeStep:'1'})),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"div\",{className:styles.selectDate},/*#__PURE__*/React.createElement(\"h4\",null,\"Select the appointment type and city\",/*#__PURE__*/React.createElement(WizardButtons,{activeStep:'1',nextBtnCallback:this.handlerNextBtnClick})),/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"style\",null,'.header .logo h2{color:#333;} .mt10{margin-top:10px;} main{ background: #fff; } .header .search{border:1px solid #ccc} .header{border-bottom:1px solid #666} .header .logo img{height:80px} ')),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h5\",null,\"City\"),/*#__PURE__*/React.createElement(\"select\",{onChange:this.handleCityChange},/*#__PURE__*/React.createElement(\"option\",null,\"Select city\"),/*#__PURE__*/React.createElement(CityOptions,{cityList:this.props.cityList})))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h5\",null,\"Consultation type\"),/*#__PURE__*/React.createElement(\"form\",null,btnGroup)))))))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(ImgWithOverlayTextGroup,null))));}}]);return NewApointment;}(Component);var mapStateToProps=function mapStateToProps(state){return{cityList:state.newAppointment.cityList,appointmentTypeList:state.newAppointment.appointmentTypeList,userProfile:state.UserProfile.userProfile,profileCompliant:state.UserProfile.userProfile.dateofbirth!=='0000-00-00',appointmentData:state.newAppointment.appointmentData};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onGetUserProfile:function onGetUserProfile(userToken){return dispatch(actions.getUserProfile(userToken));},onGetCities:function onGetCities(){return dispatch(actions.getCities());},onGetAppointmentTypeList:function onGetAppointmentTypeList(){return dispatch(actions.getAppointmentTypeList());},onSetAppointmentData:function onSetAppointmentData(appointmentData){return dispatch(actions.setAppointmentData(appointmentData));}};};export default connect(mapStateToProps,mapDispatchToProps)(NewApointment);","map":null,"metadata":{},"sourceType":"module"}