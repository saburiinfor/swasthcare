{"ast":null,"code":"import _defineProperty from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Col,CustomInput,Input,Row}from\"reactstrap\";import DatePicker from\"react-datepicker\";import ImgWithOverlayTextGroup from\"../ImgWithOverlayText/ImgWithOverlayTextGroup\";import styles from\"./SelectAppointmentDate.module.scss\";import{Helmet}from\"react-helmet\";// import CustomCalenderIcon from \"../../components/Common/CustomCalenderIcon/CustomCalenderIcon\";\nimport Breadcrumb from\"../../components/Common/Breadcrumb/Breadcrumb\";import WizardButtons from\"../../components/Common/WizardButtons/WizardButtons\";import{connect}from'react-redux';import*as actions from\"../../store/actions\";import{Redirect}from\"react-router-dom\";import getPageLink from\"../../components/Common/WizardButtons/StageManager\";var SelectAppointmentDate=/*#__PURE__*/function(_Component){_inherits(SelectAppointmentDate,_Component);var _super=_createSuper(SelectAppointmentDate);function SelectAppointmentDate(props){var _this;_classCallCheck(this,SelectAppointmentDate);_this=_super.call(this,props);_this.zeroPrefixing=function(val){return val<10?'0'+val:val;};_this.getDayText=function(day){return['Sun','Mon','Tue','Wed','Thu','Fri','Sat'][day];};_this.generateAppRegId=function(year,clinicid){return\"A\".concat(year).concat(clinicid);};_this.onChangeHandler=function(e){if(e.target.value===\"today\"){var _this$setState;var date=new Date();var day=date.getDay(),fullYear=date.getFullYear();date=// date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear();\ndate.getFullYear()+\"-\"+_this.zeroPrefixing(date.getMonth()+1)+\"-\"+_this.zeroPrefixing(date.getDate());_this.setState((_this$setState={},_defineProperty(_this$setState,e.target.name,date),_defineProperty(_this$setState,\"currentDate\",e.target.value),_defineProperty(_this$setState,\"appdate\",date),_defineProperty(_this$setState,\"appday\",_this.getDayText(day)),_defineProperty(_this$setState,\"appregid\",_this.generateAppRegId(fullYear,_this.props.appointmentData.clinicid)),_this$setState));}if(e.target.value===\"tomorrow\"){var _this$setState2;var _date=new Date();_date.setDate(_date.getDate()+1);// even 32 is acceptable\nvar _day=_date.getDay(),_fullYear=_date.getFullYear();var tomorrow=// date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear();\n_date.getFullYear()+\"-\"+_this.zeroPrefixing(_date.getMonth()+1)+\"-\"+_this.zeroPrefixing(_date.getDate());_this.setState((_this$setState2={},_defineProperty(_this$setState2,e.target.name,tomorrow),_defineProperty(_this$setState2,\"currentDate\",e.target.value),_defineProperty(_this$setState2,\"appdate\",tomorrow),_defineProperty(_this$setState2,\"appday\",_this.getDayText(_day)),_defineProperty(_this$setState2,\"appregid\",_this.generateAppRegId(_fullYear,_this.props.appointmentData.clinicid)),_this$setState2));}};_this.handleDateChange=function(m){_this.setState({startDate:m});};_this.handlerNextBtnClick=function(){_this.props.appointmentData.appdate=_this.state.appdate;_this.props.appointmentData.appday=_this.state.appday;_this.props.appointmentData.appregid=_this.state.appregid;_this.props.onSetAppointmentData(_this.props.appointmentData);};_this.state={startDate:new Date(),inputDate:\"\",currentDate:\"\",appday:'Sun',appregid:'A202026'};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handlerNextBtnClick.bind(_assertThisInitialized(_this));return _this;}_createClass(SelectAppointmentDate,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"handleChange\",value:function handleChange(date){var newFormatedDate;newFormatedDate=// date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear();\ndate.getFullYear()+\"-\"+this.zeroPrefixing(date.getMonth()+1)+\"-\"+this.zeroPrefixing(date.getDate());this.setState({startDate:date,inputDate:newFormatedDate,appdate:newFormatedDate,appday:this.getDayText(date.getDay()),appregid:this.generateAppRegId(date.getFullYear(),this.props.appointmentData.clinicid)});}},{key:\"render\",value:function render(){if(this.props.userProfile.success===0){sessionStorage.setItem('conferkare.appointment.activeStage',0);return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}var pageUrl=getPageLink();return/*#__PURE__*/React.createElement(Col,{md:\"12\",className:\"mt10\"},/*#__PURE__*/React.createElement(Redirect,{to:pageUrl}),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Breadcrumb,{activeStep:'3'}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"8\"},/*#__PURE__*/React.createElement(\"div\",{className:styles.selectDate},/*#__PURE__*/React.createElement(\"h4\",null,\"Select the Date\",/*#__PURE__*/React.createElement(WizardButtons,{nextBtnCallback:this.handlerNextBtnClick})),/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"style\",null,'.header .logo h2{color:#333;} .mt10{margin-top:10px;} main{ background: #fff; } .header .search{border:1px solid #ccc} .header{border-bottom:1px solid #666} .header .logo img{height:80px} ')),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"appointmentDate\",id:\"appointmentDate\",value:this.state.inputDate,onChange:this.onChangeHandler,placeholder:\"YYYY-MM-DD\"})),/*#__PURE__*/React.createElement(Col,{md:\"8\"})),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(CustomInput,{type:\"radio\",id:\"today\",name:\"inputDate\",label:\"Today\",value:\"today\",checked:this.state.currentDate===\"today\",onChange:this.onChangeHandler}),/*#__PURE__*/React.createElement(CustomInput,{type:\"radio\",id:\"tomorrow\",name:\"inputDate\",label:\"Tomorrow\",value:\"tomorrow\",checked:this.state.currentDate===\"tomorrow\",onChange:this.onChangeHandler}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\",className:\"mt-5\"},/*#__PURE__*/React.createElement(DatePicker,{selected:this.state.startDate,inline:true,onChange:this.handleChange,startDate:new Date(),monthsShown:2})))))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(ImgWithOverlayTextGroup,null))));}}]);return SelectAppointmentDate;}(Component);var mapStateToProps=function mapStateToProps(state){return{userProfile:state.UserProfile.userProfile,profileCompliant:state.UserProfile.userProfile.dateofbirth!=='0000-00-00',appointmentData:state.newAppointment.appointmentData};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onSetAppointmentData:function onSetAppointmentData(appointmentData){return dispatch(actions.setAppointmentData(appointmentData));}};};export default connect(mapStateToProps,mapDispatchToProps)(SelectAppointmentDate);","map":null,"metadata":{},"sourceType":"module"}