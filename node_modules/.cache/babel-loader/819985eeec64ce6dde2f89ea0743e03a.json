{"ast":null,"code":"import axios from 'axios';\nimport FormData from 'form-data';\nimport * as actionTypes from './actionTypes'; // SuccessHandler for get appointment cost details api\n\nexport const getAppointmentCostDetailsSuccess = costDetails => {\n  return {\n    type: actionTypes.GET_APPOINTMENT_COST_DETAILS_SUCCESS,\n    costDetails\n  };\n};\nexport const createRPayPrderIdSuccess = rpayOrder => {\n  return {\n    type: actionTypes.RPAY_ORDER_ID_SUCCESS,\n    rpayOrder\n  };\n};\nexport const getAppointmentCostDetails = appointmentData => {\n  return dispatch => {\n    const costRequestData = new FormData();\n    costRequestData.append(\"pid\", appointmentData.pid);\n    costRequestData.append(\"clinicid\", appointmentData.clinicid);\n    costRequestData.append(\"appointmentDate\", appointmentData.appointmentDate);\n    costRequestData.append(\"slotId\", appointmentData.slotId); // axios.post(actionTypes.API_URL + \"Physician/getslots/\", slotRequestData).then(\n    //   response => {\n    //     // console.log('inside profile data response inside userProfile');\n    //     // console.log(\"res ***\" + JSON.stringify(response.data));\n    //     let userProfile = response.data;\n    //     dispatch(userDetailsSuccess(userProfile));\n    //   }).catch(err => {\n    //   console.log(err);\n    // });\n\n    let appointmentCostDetails = {\n      'amount': appointmentData.pt_price,\n      'currency': 'INR',\n      'description': 'Patient appointment scheduled by SimpleKare.',\n      'p_name': 'Ravi Kiran',\n      'p_email': 'lravik.saburi@gmail.com'\n    };\n    dispatch(getAppointmentCostDetailsSuccess(appointmentCostDetails));\n  };\n};\nexport const createRPayOrderId = orderDetails => {\n  return dispatch => {\n    const orderRequestData = new FormData();\n    orderRequestData.append('amount', orderDetails.amount);\n    orderRequestData.append('currency', orderDetails.currency);\n    orderRequestData.append('receipt', orderDetails.receipt);\n    orderRequestData.append('payment_capture', false);\n    axios.post(\"https://api.razorpay.com/v1/orders\", orderRequestData).then(response => {\n      console.log('rpay order creation');\n      console.log(\"res ***\" + JSON.stringify(response.data));\n      let rpayOrder = response.data;\n      dispatch(createRPayPrderIdSuccess(rpayOrder));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};","map":{"version":3,"sources":["/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/src/store/actions/appointmentPayment.js"],"names":["axios","FormData","actionTypes","getAppointmentCostDetailsSuccess","costDetails","type","GET_APPOINTMENT_COST_DETAILS_SUCCESS","createRPayPrderIdSuccess","rpayOrder","RPAY_ORDER_ID_SUCCESS","getAppointmentCostDetails","appointmentData","dispatch","costRequestData","append","pid","clinicid","appointmentDate","slotId","appointmentCostDetails","pt_price","createRPayOrderId","orderDetails","orderRequestData","amount","currency","receipt","post","then","response","console","log","JSON","stringify","data","catch","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B,C,CAEA;;AACA,OAAO,MAAMC,gCAAgC,GAAIC,WAAD,IAAiB;AAC/D,SAAO;AACLC,IAAAA,IAAI,EAAEH,WAAW,CAACI,oCADb;AAELF,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,MAAMG,wBAAwB,GAAIC,SAAD,IAAe;AACrD,SAAO;AACLH,IAAAA,IAAI,EAAEH,WAAW,CAACO,qBADb;AAELD,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,MAAME,yBAAyB,GAAIC,eAAD,IAAqB;AAC5D,SAAOC,QAAQ,IAAI;AACjB,UAAMC,eAAe,GAAG,IAAIZ,QAAJ,EAAxB;AACAY,IAAAA,eAAe,CAACC,MAAhB,CAAuB,KAAvB,EAA8BH,eAAe,CAACI,GAA9C;AACAF,IAAAA,eAAe,CAACC,MAAhB,CAAuB,UAAvB,EAAmCH,eAAe,CAACK,QAAnD;AACAH,IAAAA,eAAe,CAACC,MAAhB,CAAuB,iBAAvB,EAA0CH,eAAe,CAACM,eAA1D;AACAJ,IAAAA,eAAe,CAACC,MAAhB,CAAuB,QAAvB,EAAiCH,eAAe,CAACO,MAAjD,EALiB,CAMjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,QAAIC,sBAAsB,GAAG;AAC3B,gBAAUR,eAAe,CAACS,QADC;AAE3B,kBAAY,KAFe;AAG3B,qBAAe,8CAHY;AAI3B,gBAAU,YAJiB;AAK3B,iBAAW;AALgB,KAA7B;AAOAR,IAAAA,QAAQ,CAACT,gCAAgC,CAACgB,sBAAD,CAAjC,CAAR;AACD,GAvBD;AAwBD,CAzBM;AA2BP,OAAO,MAAME,iBAAiB,GAAIC,YAAD,IAAkB;AACjD,SAAOV,QAAQ,IAAI;AACjB,UAAMW,gBAAgB,GAAG,IAAItB,QAAJ,EAAzB;AACAsB,IAAAA,gBAAgB,CAACT,MAAjB,CAAwB,QAAxB,EAAkCQ,YAAY,CAACE,MAA/C;AACAD,IAAAA,gBAAgB,CAACT,MAAjB,CAAwB,UAAxB,EAAoCQ,YAAY,CAACG,QAAjD;AACAF,IAAAA,gBAAgB,CAACT,MAAjB,CAAwB,SAAxB,EAAmCQ,YAAY,CAACI,OAAhD;AACAH,IAAAA,gBAAgB,CAACT,MAAjB,CAAwB,iBAAxB,EAA2C,KAA3C;AACAd,IAAAA,KAAK,CAAC2B,IAAN,CAAW,oCAAX,EAAiDJ,gBAAjD,EAAmEK,IAAnE,CACEC,QAAQ,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAYC,IAAI,CAACC,SAAL,CAAeJ,QAAQ,CAACK,IAAxB,CAAxB;AACA,UAAI1B,SAAS,GAAGqB,QAAQ,CAACK,IAAzB;AACAtB,MAAAA,QAAQ,CAACL,wBAAwB,CAACC,SAAD,CAAzB,CAAR;AACD,KANH,EAMK2B,KANL,CAMWC,GAAG,IAAI;AAChBN,MAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACD,KARD;AASD,GAfD;AAgBD,CAjBM","sourcesContent":["import axios from 'axios';\nimport FormData from 'form-data';\nimport * as actionTypes from './actionTypes';\n\n// SuccessHandler for get appointment cost details api\nexport const getAppointmentCostDetailsSuccess = (costDetails) => {\n  return {\n    type: actionTypes.GET_APPOINTMENT_COST_DETAILS_SUCCESS,\n    costDetails\n  };\n};\n\nexport const createRPayPrderIdSuccess = (rpayOrder) => {\n  return {\n    type: actionTypes.RPAY_ORDER_ID_SUCCESS,\n    rpayOrder\n  };\n};\n\nexport const getAppointmentCostDetails = (appointmentData) => {\n  return dispatch => {\n    const costRequestData = new FormData();\n    costRequestData.append(\"pid\", appointmentData.pid);\n    costRequestData.append(\"clinicid\", appointmentData.clinicid);\n    costRequestData.append(\"appointmentDate\", appointmentData.appointmentDate);\n    costRequestData.append(\"slotId\", appointmentData.slotId);\n    // axios.post(actionTypes.API_URL + \"Physician/getslots/\", slotRequestData).then(\n    //   response => {\n    //     // console.log('inside profile data response inside userProfile');\n    //     // console.log(\"res ***\" + JSON.stringify(response.data));\n    //     let userProfile = response.data;\n    //     dispatch(userDetailsSuccess(userProfile));\n    //   }).catch(err => {\n    //   console.log(err);\n    // });\n    let appointmentCostDetails = {\n      'amount': appointmentData.pt_price,\n      'currency': 'INR',\n      'description': 'Patient appointment scheduled by SimpleKare.',\n      'p_name': 'Ravi Kiran',\n      'p_email': 'lravik.saburi@gmail.com'\n    };\n    dispatch(getAppointmentCostDetailsSuccess(appointmentCostDetails));\n  };\n};\n\nexport const createRPayOrderId = (orderDetails) => {\n  return dispatch => {\n    const orderRequestData = new FormData();\n    orderRequestData.append('amount', orderDetails.amount);\n    orderRequestData.append('currency', orderDetails.currency);\n    orderRequestData.append('receipt', orderDetails.receipt);\n    orderRequestData.append('payment_capture', false);\n    axios.post(\"https://api.razorpay.com/v1/orders\", orderRequestData).then(\n      response => {\n        console.log('rpay order creation');\n        console.log(\"res ***\" + JSON.stringify(response.data));\n        let rpayOrder = response.data;\n        dispatch(createRPayPrderIdSuccess(rpayOrder));\n      }).catch(err => {\n      console.log(err);\n    });\n  };\n};"]},"metadata":{},"sourceType":"module"}