{"ast":null,"code":"import axios from 'axios';\nimport FormData from 'form-data';\nimport * as actionTypes from './actionTypes';\nexport const submitAppointmentSuccess = success => {\n  return {\n    type: actionTypes.SUBMIT_APPOINTMENT_SUCCESS,\n    success\n  };\n};\nexport const submitAppointmentFailure = error => {\n  return {\n    type: actionTypes.SUBMIT_APPOINTMENT_FAILURE,\n    error: error\n  };\n};\nexport const submitAppointment = appointmentData => {\n  return dispatch => {\n    let userData = new FormData();\n\n    for (const key in ['appdate', appday, ctime, name, clinicid, appregid, patientid, pid, pname, 'speciality', 'clinicname', 'pt_price', 'clinicaddress', 'cliniccontact', 'cityname']) {\n      userData.append(key, appointmentData[key]);\n    } // dispatch(submitAppointmentSuccess({'success': 1, 'message': 'appointment created', 'appointmentId': 123344 }));\n\n\n    axios.post(actionTypes.API_URL + \"Appointments/create/\", userData).then(response => {\n      // console.log('inside profile update call');\n      // console.log(JSON.stringify(response.data));\n      let userProfile = response.data;\n\n      if (response.data.success === 1) {\n        dispatch(userUpdateSuccess(userProfile));\n      } else {\n        dispatch(userUpdateFailure(userProfile.error.errormsg));\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};","map":{"version":3,"sources":["/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/src/store/actions/submitAppointment.js"],"names":["axios","FormData","actionTypes","submitAppointmentSuccess","success","type","SUBMIT_APPOINTMENT_SUCCESS","submitAppointmentFailure","error","SUBMIT_APPOINTMENT_FAILURE","submitAppointment","appointmentData","dispatch","userData","key","appday","ctime","name","clinicid","appregid","patientid","pid","pname","append","post","API_URL","then","response","userProfile","data","userUpdateSuccess","userUpdateFailure","errormsg","catch","err","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AAEA,OAAO,MAAMC,wBAAwB,GAAIC,OAAD,IAAa;AACnD,SAAO;AACLC,IAAAA,IAAI,EAAEH,WAAW,CAACI,0BADb;AAELF,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,MAAMG,wBAAwB,GAAIC,KAAD,IAAW;AACjD,SAAO;AACLH,IAAAA,IAAI,EAAEH,WAAW,CAACO,0BADb;AAELD,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,MAAME,iBAAiB,GAAIC,eAAD,IAAqB;AACpD,SAAOC,QAAQ,IAAI;AACjB,QAAIC,QAAQ,GAAG,IAAIZ,QAAJ,EAAf;;AACA,SAAK,MAAMa,GAAX,IAAkB,CAAC,SAAD,EAAYC,MAAZ,EAAoBC,KAApB,EAA2BC,IAA3B,EAAiCC,QAAjC,EAA2CC,QAA3C,EAAqDC,SAArD,EAAgEC,GAAhE,EAAqEC,KAArE,EAA4E,YAA5E,EAA2F,YAA3F,EAAyG,UAAzG,EAAqH,eAArH,EAAsI,eAAtI,EAAuJ,UAAvJ,CAAlB,EAAsL;AACpLT,MAAAA,QAAQ,CAACU,MAAT,CAAgBT,GAAhB,EAAqBH,eAAe,CAACG,GAAD,CAApC;AACD,KAJgB,CAKjB;;;AACAd,IAAAA,KAAK,CAACwB,IAAN,CAAWtB,WAAW,CAACuB,OAAZ,GAAsB,sBAAjC,EAAyDZ,QAAzD,EAAmEa,IAAnE,CACEC,QAAQ,IAAI;AACV;AACA;AACA,UAAIC,WAAW,GAAGD,QAAQ,CAACE,IAA3B;;AACA,UAAIF,QAAQ,CAACE,IAAT,CAAczB,OAAd,KAA0B,CAA9B,EAAiC;AAC/BQ,QAAAA,QAAQ,CAACkB,iBAAiB,CAACF,WAAD,CAAlB,CAAR;AACD,OAFD,MAEO;AACLhB,QAAAA,QAAQ,CAACmB,iBAAiB,CAACH,WAAW,CAACpB,KAAZ,CAAkBwB,QAAnB,CAAlB,CAAR;AACD;AACF,KAVH,EAUKC,KAVL,CAUWC,GAAG,IAAI;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAZD;AAaD,GAnBD;AAoBD,CArBM","sourcesContent":["import axios from 'axios';\nimport FormData from 'form-data';\nimport * as actionTypes from './actionTypes';\n\nexport const submitAppointmentSuccess = (success) => {\n  return {\n    type: actionTypes.SUBMIT_APPOINTMENT_SUCCESS,\n    success\n  };\n};\n\nexport const submitAppointmentFailure = (error) => {\n  return {\n    type: actionTypes.SUBMIT_APPOINTMENT_FAILURE,\n    error: error\n  };\n};\n\nexport const submitAppointment = (appointmentData) => {\n  return dispatch => {\n    let userData = new FormData();\n    for (const key in ['appdate', appday, ctime, name, clinicid, appregid, patientid, pid, pname, 'speciality',  'clinicname', 'pt_price', 'clinicaddress', 'cliniccontact', 'cityname']) {\n      userData.append(key, appointmentData[key]);\n    }\n    // dispatch(submitAppointmentSuccess({'success': 1, 'message': 'appointment created', 'appointmentId': 123344 }));\n    axios.post(actionTypes.API_URL + \"Appointments/create/\", userData).then(\n      response => {\n        // console.log('inside profile update call');\n        // console.log(JSON.stringify(response.data));\n        let userProfile = response.data;\n        if (response.data.success === 1) {\n          dispatch(userUpdateSuccess(userProfile));\n        } else {\n          dispatch(userUpdateFailure(userProfile.error.errormsg));\n        }\n      }).catch(err => {\n      console.log(err);\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}