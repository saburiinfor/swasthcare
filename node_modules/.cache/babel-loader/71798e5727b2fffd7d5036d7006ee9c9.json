{"ast":null,"code":"var _jsxFileName = \"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/src/containers/NewApointment/SelectAppointmentDate.js\";\nimport React, { Component } from \"react\";\nimport { Col, CustomInput, Input, Row } from \"reactstrap\";\nimport DatePicker from \"react-datepicker\";\nimport ImgWithOverlayTextGroup from \"../ImgWithOverlayText/ImgWithOverlayTextGroup\";\nimport styles from \"./SelectAppointmentDate.module.scss\";\nimport { Helmet } from \"react-helmet\";\nimport CustomCalenderIcon from \"../../components/Common/CustomCalenderIcon/CustomCalenderIcon\";\nimport Breadcrumb from \"../../components/Common/Breadcrumb/Breadcrumb\";\nimport WizardButtons from \"../../components/Common/WizardButtons/WizardButtons\";\nimport { connect } from 'react-redux';\nimport * as actions from \"../../store/actions\";\nimport { Redirect } from \"react-router-dom\";\nimport getPageLink from \"../../components/Common/WizardButtons/StageManager\";\n\nclass SelectAppointmentDate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.zeroPrefixing = val => {\n      return val < 10 ? '0' + val : val;\n    };\n\n    this.getDayText = day => {\n      return ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][day];\n    };\n\n    this.generateAppRegId = (year, clinicid) => {\n      return `A${year}${clinicid}`;\n    };\n\n    this.onChangeHandler = e => {\n      if (e.target.value === \"today\") {\n        var date = new Date();\n        date = // date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear();\n        date.getFullYear() + \"-\" + this.zeroPrefixing(date.getMonth() + 1) + \"-\" + this.zeroPrefixing(date.getDate());\n        this.setState({\n          [e.target.name]: date,\n          currentDate: e.target.value,\n          appointmentDate: date,\n          appday: this.getDayText(date.getDay()),\n          appregid: this.generateAppRegId(date.getFullYear, this.props.appointmentData.clinicid)\n        });\n      }\n\n      if (e.target.value === \"tomorrow\") {\n        let date = new Date();\n        date.setDate(date.getDate() + 1); // even 32 is acceptable\n\n        let tomorrow = // date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear();\n        date.getFullYear() + \"-\" + this.zeroPrefixing(date.getMonth() + 1) + \"-\" + this.zeroPrefixing(date.getDate());\n        this.setState({\n          [e.target.name]: tomorrow,\n          currentDate: e.target.value,\n          appointmentDate: tomorrow,\n          appday: this.getDayText(tomorrow.getDay())\n        });\n      }\n    };\n\n    this.handleDateChange = m => {\n      this.setState({\n        startDate: m\n      });\n    };\n\n    this.handlerNextBtnClick = () => {\n      this.props.appointmentData.appointmentDate = this.state.appointmentDate;\n      this.props.appointmentData.appday = this.state.appday;\n      this.props.onSetAppointmentData(this.props.appointmentData);\n    };\n\n    this.state = {\n      startDate: new Date(),\n      inputDate: \"\",\n      currentDate: \"\",\n      appday: 'Sun',\n      appregid: 'A202026'\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handlerNextBtnClick.bind(this);\n  }\n\n  componentDidMount() {}\n\n  handleChange(date) {\n    let newFormatedDate;\n    newFormatedDate = // date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear();\n    date.getFullYear() + \"-\" + this.zeroPrefixing(date.getMonth() + 1) + \"-\" + this.zeroPrefixing(date.getDate());\n    this.setState({\n      startDate: date,\n      inputDate: newFormatedDate,\n      appointmentDate: newFormatedDate,\n      appday: this.getDayText(date.getDay()),\n      appregid: this.generateAppRegId(date.getFullYear(), this.props.appointmentData.clinicid)\n    });\n  }\n\n  render() {\n    if (this.props.userProfile.success === 0) {\n      sessionStorage.setItem('conferkare.appointment.activeStage', 0);\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 14\n        }\n      });\n    }\n\n    const pageUrl = getPageLink();\n    return /*#__PURE__*/React.createElement(Col, {\n      md: \"12\",\n      className: \"mt10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Redirect, {\n      to: pageUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Breadcrumb, {\n      activeStep: '3',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.selectDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, \"Select the Date\", /*#__PURE__*/React.createElement(WizardButtons, {\n      nextBtnCallback: this.handlerNextBtnClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Helmet, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"style\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, '.header .logo h2{color:#333;} .mt10{margin-top:10px;} main{ background: #fff; } .header .search{border:1px solid #ccc} .header{border-bottom:1px solid #666} .header .logo img{height:80px} ')), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"appointmentDate\",\n      id: \"appointmentDate\",\n      value: this.state.inputDate,\n      onChange: this.onChangeHandler,\n      placeholder: \"YYYY-MM-DD\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      customInput: /*#__PURE__*/React.createElement(CustomCalenderIcon, {\n        onClickCustHandler: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }\n      }),\n      selected: this.state.startDate,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 24\n      }\n    }), /*#__PURE__*/React.createElement(CustomInput, {\n      type: \"radio\",\n      id: \"today\",\n      name: \"inputDate\",\n      label: \"Today\",\n      value: \"today\",\n      checked: this.state.currentDate === \"today\",\n      onChange: this.onChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(CustomInput, {\n      type: \"radio\",\n      id: \"tomorrow\",\n      name: \"inputDate\",\n      label: \"Tomorrow\",\n      value: \"tomorrow\",\n      checked: this.state.currentDate === \"tomorrow\",\n      onChange: this.onChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"12\",\n      className: \"mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      selected: this.state.startDate,\n      inline: true,\n      onChange: this.handleChange,\n      monthsShown: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }\n    })))))), /*#__PURE__*/React.createElement(Col, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ImgWithOverlayTextGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 24\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userProfile: state.UserProfile.userProfile,\n    profileCompliant: state.UserProfile.userProfile.dateofbirth !== '0000-00-00',\n    appointmentData: state.newAppointment.appointmentData\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSetAppointmentData: appointmentData => dispatch(actions.setAppointmentData(appointmentData))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectAppointmentDate);","map":{"version":3,"sources":["/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/src/containers/NewApointment/SelectAppointmentDate.js"],"names":["React","Component","Col","CustomInput","Input","Row","DatePicker","ImgWithOverlayTextGroup","styles","Helmet","CustomCalenderIcon","Breadcrumb","WizardButtons","connect","actions","Redirect","getPageLink","SelectAppointmentDate","constructor","props","zeroPrefixing","val","getDayText","day","generateAppRegId","year","clinicid","onChangeHandler","e","target","value","date","Date","getFullYear","getMonth","getDate","setState","name","currentDate","appointmentDate","appday","getDay","appregid","appointmentData","setDate","tomorrow","handleDateChange","m","startDate","handlerNextBtnClick","state","onSetAppointmentData","inputDate","handleChange","bind","componentDidMount","newFormatedDate","render","userProfile","success","sessionStorage","setItem","pageUrl","selectDate","mapStateToProps","UserProfile","profileCompliant","dateofbirth","newAppointment","mapDispatchToProps","dispatch","setAppointmentData"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,GAAR,EAAaC,WAAb,EAA0BC,KAA1B,EAAiCC,GAAjC,QAA2C,YAA3C;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,uBAAP,MAAoC,+CAApC;AACA,OAAOC,MAAP,MAAmB,qCAAnB;AACA,SAAQC,MAAR,QAAqB,cAArB;AACA,OAAOC,kBAAP,MAA+B,+DAA/B;AACA,OAAOC,UAAP,MAAuB,+CAAvB;AACA,OAAOC,aAAP,MAA0B,qDAA1B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,OAAZ,MAAyB,qBAAzB;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,OAAOC,WAAP,MAAwB,oDAAxB;;AAEA,MAAMC,qBAAN,SAAoChB,SAApC,CAA8C;AAC5CiB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAgBnBC,aAhBmB,GAgBFC,GAAD,IAAS;AACvB,aAAQA,GAAG,GAAG,EAAP,GAAa,MAAMA,GAAnB,GAAyBA,GAAhC;AACD,KAlBkB;;AAAA,SAoBnBC,UApBmB,GAoBLC,GAAD,IAAS;AACpB,aAAO,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkDA,GAAlD,CAAP;AACD,KAtBkB;;AAAA,SAwBnBC,gBAxBmB,GAwBA,CAACC,IAAD,EAAOC,QAAP,KAAoB;AACrC,aAAQ,IAAGD,IAAK,GAAEC,QAAS,EAA3B;AACD,KA1BkB;;AAAA,SA2CnBC,eA3CmB,GA2CDC,CAAC,IAAI;AACrB,UAAIA,CAAC,CAACC,MAAF,CAASC,KAAT,KAAmB,OAAvB,EAAgC;AAC9B,YAAIC,IAAI,GAAG,IAAIC,IAAJ,EAAX;AACAD,QAAAA,IAAI,GACF;AACAA,QAAAA,IAAI,CAACE,WAAL,KAAqB,GAArB,GAA2B,KAAKb,aAAL,CAAmBW,IAAI,CAACG,QAAL,KAAkB,CAArC,CAA3B,GAAqE,GAArE,GAA2E,KAAKd,aAAL,CAAmBW,IAAI,CAACI,OAAL,EAAnB,CAF7E;AAIA,aAAKC,QAAL,CAAc;AAAC,WAACR,CAAC,CAACC,MAAF,CAASQ,IAAV,GAAiBN,IAAlB;AAAwBO,UAAAA,WAAW,EAAEV,CAAC,CAACC,MAAF,CAASC,KAA9C;AAAqDS,UAAAA,eAAe,EAAER,IAAtE;AAA4ES,UAAAA,MAAM,EAAE,KAAKlB,UAAL,CAAgBS,IAAI,CAACU,MAAL,EAAhB,CAApF;AAAoHC,UAAAA,QAAQ,EAAE,KAAKlB,gBAAL,CAAsBO,IAAI,CAACE,WAA3B,EAAwC,KAAKd,KAAL,CAAWwB,eAAX,CAA2BjB,QAAnE;AAA9H,SAAd;AACD;;AAED,UAAIE,CAAC,CAACC,MAAF,CAASC,KAAT,KAAmB,UAAvB,EAAmC;AACjC,YAAIC,IAAI,GAAG,IAAIC,IAAJ,EAAX;AACAD,QAAAA,IAAI,CAACa,OAAL,CAAab,IAAI,CAACI,OAAL,KAAiB,CAA9B,EAFiC,CAEC;;AAElC,YAAIU,QAAQ,GACV;AACAd,QAAAA,IAAI,CAACE,WAAL,KAAqB,GAArB,GAA2B,KAAKb,aAAL,CAAmBW,IAAI,CAACG,QAAL,KAAkB,CAArC,CAA3B,GAAqE,GAArE,GAA2E,KAAKd,aAAL,CAAmBW,IAAI,CAACI,OAAL,EAAnB,CAF7E;AAIA,aAAKC,QAAL,CAAc;AAAC,WAACR,CAAC,CAACC,MAAF,CAASQ,IAAV,GAAiBQ,QAAlB;AAA4BP,UAAAA,WAAW,EAAEV,CAAC,CAACC,MAAF,CAASC,KAAlD;AAAyDS,UAAAA,eAAe,EAAEM,QAA1E;AAAoFL,UAAAA,MAAM,EAAE,KAAKlB,UAAL,CAAgBuB,QAAQ,CAACJ,MAAT,EAAhB;AAA5F,SAAd;AACD;AACF,KA/DkB;;AAAA,SAiEnBK,gBAjEmB,GAiEAC,CAAC,IAAI;AACtB,WAAKX,QAAL,CAAc;AAACY,QAAAA,SAAS,EAAED;AAAZ,OAAd;AACD,KAnEkB;;AAAA,SAqEnBE,mBArEmB,GAqEG,MAAM;AAC1B,WAAK9B,KAAL,CAAWwB,eAAX,CAA2BJ,eAA3B,GAA6C,KAAKW,KAAL,CAAWX,eAAxD;AACA,WAAKpB,KAAL,CAAWwB,eAAX,CAA2BH,MAA3B,GAAoC,KAAKU,KAAL,CAAWV,MAA/C;AACA,WAAKrB,KAAL,CAAWgC,oBAAX,CAAgC,KAAKhC,KAAL,CAAWwB,eAA3C;AACD,KAzEkB;;AAEjB,SAAKO,KAAL,GAAa;AACXF,MAAAA,SAAS,EAAE,IAAIhB,IAAJ,EADA;AAEXoB,MAAAA,SAAS,EAAE,EAFA;AAGXd,MAAAA,WAAW,EAAE,EAHF;AAIXE,MAAAA,MAAM,EAAE,KAJG;AAKXE,MAAAA,QAAQ,EAAE;AALC,KAAb;AAOA,SAAKW,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKL,mBAAL,CAAyBK,IAAzB,CAA8B,IAA9B;AACD;;AAEDC,EAAAA,iBAAiB,GAAG,CACnB;;AAcDF,EAAAA,YAAY,CAACtB,IAAD,EAAO;AACjB,QAAIyB,eAAJ;AACAA,IAAAA,eAAe,GACb;AACAzB,IAAAA,IAAI,CAACE,WAAL,KAAqB,GAArB,GAA2B,KAAKb,aAAL,CAAmBW,IAAI,CAACG,QAAL,KAAkB,CAArC,CAA3B,GAAqE,GAArE,GAA2E,KAAKd,aAAL,CAAmBW,IAAI,CAACI,OAAL,EAAnB,CAF7E;AAIA,SAAKC,QAAL,CAAc;AACZY,MAAAA,SAAS,EAAEjB,IADC;AAEZqB,MAAAA,SAAS,EAAEI,eAFC;AAGZjB,MAAAA,eAAe,EAAEiB,eAHL;AAIZhB,MAAAA,MAAM,EAAE,KAAKlB,UAAL,CAAgBS,IAAI,CAACU,MAAL,EAAhB,CAJI;AAKZC,MAAAA,QAAQ,EAAE,KAAKlB,gBAAL,CAAsBO,IAAI,CAACE,WAAL,EAAtB,EAA0C,KAAKd,KAAL,CAAWwB,eAAX,CAA2BjB,QAArE;AALE,KAAd;AAOD;;AAkCD+B,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKtC,KAAL,CAAWuC,WAAX,CAAuBC,OAAvB,KAAmC,CAAvC,EAA0C;AACxCC,MAAAA,cAAc,CAACC,OAAf,CAAuB,oCAAvB,EAA6D,CAA7D;AACA,0BAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AACD,UAAMC,OAAO,GAAG9C,WAAW,EAA3B;AACA,wBACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,IAAR;AAAa,MAAA,SAAS,EAAC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAE8C,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AAAY,MAAA,UAAU,EAAE,GAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CAFF,eAOE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAEtD,MAAM,CAACuD,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAEE,oBAAC,aAAD;AAAe,MAAA,eAAe,EAAE,KAAKd,mBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,eAKE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAQ,8LAAR,CADF,CALF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,iBAFP;AAGE,MAAA,EAAE,EAAC,iBAHL;AAIE,MAAA,KAAK,EAAE,KAAKC,KAAL,CAAWE,SAJpB;AAKE,MAAA,QAAQ,EAAE,KAAKzB,eALjB;AAME,MAAA,WAAW,EAAC,YANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAWE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE,oBAAC,UAAD;AACE,MAAA,WAAW,eACT,oBAAC,kBAAD;AACE,QAAA,kBAAkB,EAAE,KAAK0B,YAD3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ;AAME,MAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWF,SANvB;AAOE,MAAA,QAAQ,EAAE,KAAKK,YAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAXF,CADF,eAyBE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAL,eACE,oBAAC,WAAD;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,EAAE,EAAC,OAFL;AAGE,MAAA,IAAI,EAAC,WAHP;AAIE,MAAA,KAAK,EAAC,OAJR;AAKE,MAAA,KAAK,EAAC,OALR;AAME,MAAA,OAAO,EAAE,KAAKH,KAAL,CAAWZ,WAAX,KAA2B,OANtC;AAOE,MAAA,QAAQ,EAAE,KAAKX,eAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAUE,oBAAC,WAAD;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,EAAE,EAAC,UAFL;AAGE,MAAA,IAAI,EAAC,WAHP;AAIE,MAAA,KAAK,EAAC,UAJR;AAKE,MAAA,KAAK,EAAC,UALR;AAME,MAAA,OAAO,EAAE,KAAKuB,KAAL,CAAWZ,WAAX,KAA2B,UANtC;AAOE,MAAA,QAAQ,EAAE,KAAKX,eAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVF,CADF,CAzBF,eA+CE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,IAAR;AAAa,MAAA,SAAS,EAAC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AACE,MAAA,QAAQ,EAAE,KAAKuB,KAAL,CAAWF,SADvB;AAEE,MAAA,MAAM,MAFR;AAGE,MAAA,QAAQ,EAAE,KAAKK,YAHjB;AAIE,MAAA,WAAW,EAAE,CAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CA/CF,CARF,CADF,CADF,eAsEE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAa,oBAAC,uBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAb,CAtEF,CAPF,CADF;AAkFD;;AApK2C;;AAuK9C,MAAMW,eAAe,GAAId,KAAD,IAAW;AACjC,SAAO;AACLQ,IAAAA,WAAW,EAAER,KAAK,CAACe,WAAN,CAAkBP,WAD1B;AAELQ,IAAAA,gBAAgB,EAAEhB,KAAK,CAACe,WAAN,CAAkBP,WAAlB,CAA8BS,WAA9B,KAA8C,YAF3D;AAGLxB,IAAAA,eAAe,EAAEO,KAAK,CAACkB,cAAN,CAAqBzB;AAHjC,GAAP;AAKD,CAND;;AAQA,MAAM0B,kBAAkB,GAAIC,QAAD,IAAc;AACvC,SAAO;AACLnB,IAAAA,oBAAoB,EAAGR,eAAD,IAAqB2B,QAAQ,CAACxD,OAAO,CAACyD,kBAAR,CAA2B5B,eAA3B,CAAD;AAD9C,GAAP;AAGD,CAJD;;AAOA,eAAe9B,OAAO,CAACmD,eAAD,EAAkBK,kBAAlB,CAAP,CAA6CpD,qBAA7C,CAAf","sourcesContent":["import React, {Component} from \"react\";\r\nimport {Col, CustomInput, Input, Row} from \"reactstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport ImgWithOverlayTextGroup from \"../ImgWithOverlayText/ImgWithOverlayTextGroup\";\r\nimport styles from \"./SelectAppointmentDate.module.scss\";\r\nimport {Helmet} from \"react-helmet\";\r\nimport CustomCalenderIcon from \"../../components/Common/CustomCalenderIcon/CustomCalenderIcon\";\r\nimport Breadcrumb from \"../../components/Common/Breadcrumb/Breadcrumb\";\r\nimport WizardButtons from \"../../components/Common/WizardButtons/WizardButtons\";\r\nimport { connect } from 'react-redux';\r\nimport * as actions from \"../../store/actions\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport getPageLink from \"../../components/Common/WizardButtons/StageManager\";\r\n\r\nclass SelectAppointmentDate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      startDate: new Date(),\r\n      inputDate: \"\",\r\n      currentDate: \"\",\r\n      appday: 'Sun',\r\n      appregid: 'A202026'\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handlerNextBtnClick.bind(this);\r\n  }\r\n  \r\n  componentDidMount() {\r\n  }\r\n  \r\n  zeroPrefixing = (val) => {\r\n    return (val < 10) ? '0' + val : val;\r\n  };\r\n  \r\n  getDayText = (day) => {\r\n    return ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][day];\r\n  };\r\n  \r\n  generateAppRegId = (year, clinicid) => {\r\n    return `A${year}${clinicid}`;\r\n  };\r\n  \r\n  handleChange(date) {\r\n    let newFormatedDate;\r\n    newFormatedDate =\r\n      // date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear();\r\n      date.getFullYear() + \"-\" + this.zeroPrefixing(date.getMonth() + 1) + \"-\" + this.zeroPrefixing(date.getDate());\r\n    \r\n    this.setState({\r\n      startDate: date,\r\n      inputDate: newFormatedDate,\r\n      appointmentDate: newFormatedDate,\r\n      appday: this.getDayText(date.getDay()),\r\n      appregid: this.generateAppRegId(date.getFullYear(), this.props.appointmentData.clinicid)\r\n    });\r\n  }\r\n  \r\n  onChangeHandler = e => {\r\n    if (e.target.value === \"today\") {\r\n      var date = new Date();\r\n      date =\r\n        // date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear();\r\n        date.getFullYear() + \"-\" + this.zeroPrefixing(date.getMonth() + 1) + \"-\" + this.zeroPrefixing(date.getDate());\r\n      \r\n      this.setState({[e.target.name]: date, currentDate: e.target.value, appointmentDate: date, appday: this.getDayText(date.getDay()), appregid: this.generateAppRegId(date.getFullYear, this.props.appointmentData.clinicid) });\r\n    }\r\n    \r\n    if (e.target.value === \"tomorrow\") {\r\n      let date = new Date();\r\n      date.setDate(date.getDate() + 1); // even 32 is acceptable\r\n      \r\n      let tomorrow =\r\n        // date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear();\r\n        date.getFullYear() + \"-\" + this.zeroPrefixing(date.getMonth() + 1) + \"-\" + this.zeroPrefixing(date.getDate());\r\n      \r\n      this.setState({[e.target.name]: tomorrow, currentDate: e.target.value, appointmentDate: tomorrow, appday: this.getDayText(tomorrow.getDay()) });\r\n    }\r\n  };\r\n  \r\n  handleDateChange = m => {\r\n    this.setState({startDate: m});\r\n  };\r\n  \r\n  handlerNextBtnClick = () => {\r\n    this.props.appointmentData.appointmentDate = this.state.appointmentDate;\r\n    this.props.appointmentData.appday = this.state.appday;\r\n    this.props.onSetAppointmentData(this.props.appointmentData);\r\n  };\r\n  \r\n  render() {\r\n    if (this.props.userProfile.success === 0) {\r\n      sessionStorage.setItem('conferkare.appointment.activeStage', 0);\r\n      return <Redirect to='/'/>;\r\n    }\r\n    const pageUrl = getPageLink();\r\n    return (\r\n      <Col md=\"12\" className=\"mt10\">\r\n        <Redirect to={pageUrl}/>\r\n        <Row>\r\n          <Col>\r\n            <Breadcrumb activeStep={'3'} />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"8\">\r\n            <div className={styles.selectDate}>\r\n              <h4>\r\n                Select the Date\r\n                <WizardButtons nextBtnCallback={this.handlerNextBtnClick} />\r\n              </h4>\r\n              <Helmet>\r\n                <style>{'.header .logo h2{color:#333;} .mt10{margin-top:10px;} main{ background: #fff; } .header .search{border:1px solid #ccc} .header{border-bottom:1px solid #666} .header .logo img{height:80px} '}</style>\r\n              </Helmet>\r\n              <div>\r\n                <Row>\r\n                  <Col md=\"4\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"appointmentDate\"\r\n                      id=\"appointmentDate\"\r\n                      value={this.state.inputDate}\r\n                      onChange={this.onChangeHandler}\r\n                      placeholder=\"YYYY-MM-DD\"\r\n                    />\r\n                  </Col>\r\n                  <Col md=\"8\">\r\n                    \r\n                    <DatePicker\r\n                      customInput={\r\n                        <CustomCalenderIcon\r\n                          onClickCustHandler={this.handleChange}\r\n                        />\r\n                      }\r\n                      selected={this.state.startDate}\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col><br/>\r\n                    <CustomInput\r\n                      type=\"radio\"\r\n                      id=\"today\"\r\n                      name=\"inputDate\"\r\n                      label=\"Today\"\r\n                      value=\"today\"\r\n                      checked={this.state.currentDate === \"today\"}\r\n                      onChange={this.onChangeHandler}\r\n                    />\r\n                    <CustomInput\r\n                      type=\"radio\"\r\n                      id=\"tomorrow\"\r\n                      name=\"inputDate\"\r\n                      label=\"Tomorrow\"\r\n                      value=\"tomorrow\"\r\n                      checked={this.state.currentDate === \"tomorrow\"}\r\n                      onChange={this.onChangeHandler}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col md=\"12\" className=\"mt-5\">\r\n                    <DatePicker\r\n                      selected={this.state.startDate}\r\n                      inline\r\n                      onChange={this.handleChange}\r\n                      monthsShown={2}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n          <Col md=\"4\">{<ImgWithOverlayTextGroup/>}</Col>\r\n        </Row>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userProfile: state.UserProfile.userProfile,\r\n    profileCompliant: state.UserProfile.userProfile.dateofbirth !== '0000-00-00',\r\n    appointmentData: state.newAppointment.appointmentData\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onSetAppointmentData: (appointmentData) => dispatch(actions.setAppointmentData(appointmentData)),\r\n  };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectAppointmentDate);\r\n"]},"metadata":{},"sourceType":"module"}