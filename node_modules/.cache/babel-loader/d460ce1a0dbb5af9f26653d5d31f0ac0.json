{"ast":null,"code":"var _jsxFileName = \"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/src/containers/UserProfile/UserProfile.js\";\nimport React, { Component } from 'react';\nimport { Button, Col, Row, Form, FormGroup, Label } from \"reactstrap\";\nimport \"./UserProfile.scss\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions\";\nimport dateformat from 'dateformat';\nimport ReactDatePicker from 'react-date-picker';\n\nclass UserProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.selectUserDOB = date => {\n      this.state.userProfile.dob = dateformat(date, 'yyyy-mm-dd');\n    };\n\n    this.updateUserProfile = () => {\n      console.log(JSON.stringify(this.state));\n      console.log(this.state.userProfile); // this.props.onUpdateUserProfile(this.state.userProfile);\n    };\n\n    this.state = {\n      userProfile: {\n        uid: null,\n        token: sessionStorage.getItem('token'),\n        contactNo: null,\n        dob: dateformat(new Date(), 'yyyy-mm-dd'),\n        name: null,\n        gender: null,\n        bloodgrp: null,\n        address: null\n      },\n      dob: dateformat(new Date(), 'yyyy-mm-dd'),\n      error: null\n    };\n  }\n\n  componentDidMount() {\n    this.state.userProfile = {\n      uid: this.props.userProfile.id,\n      name: this.props.userProfile.name,\n      gender: this.props.userProfile.gender,\n      contactNo: this.props.userProfile.contactNo,\n      dob: this.props.userProfile.dateofbirth,\n      address: this.props.userProfile.address,\n      bloodgrp: this.props.userProfile.bloodgrp,\n      token: sessionStorage.getItem('token')\n    };\n    console.log(JSON.stringify(this.props));\n    console.log(JSON.stringify(this.state));\n  }\n\n  render() {\n    let todayDate = dateformat(new Date(), 'yyyy-mm-dd');\n    return /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'profileUpdateContainer',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, this.props.error !== null ? this.props.error : 'Updated successfully', /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, \"Please set your Date of Birth to proceed.\")), /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, \"Date of birth\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(ReactDatePicker, {\n      value: new Date(),\n      onChange: this.selectUserDOB,\n      format: 'y-MM-dd',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      className: 'updateBtn',\n      color: \"primary\",\n      onClick: this.updateUserProfile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, \"Update\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userProfile: state.UserProfile.userProfile,\n    error: state.UserProfile.error\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onGetUserProfile: userToken => dispatch(actions.getUserProfile(userToken)),\n    onUpdateUserProfile: userProfileData => dispatch(actions.updateUserProfile(userProfileData))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfile);","map":{"version":3,"sources":["/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/src/containers/UserProfile/UserProfile.js"],"names":["React","Component","Button","Col","Row","Form","FormGroup","Label","connect","actions","dateformat","ReactDatePicker","UserProfile","constructor","props","selectUserDOB","date","state","userProfile","dob","updateUserProfile","console","log","JSON","stringify","uid","token","sessionStorage","getItem","contactNo","Date","name","gender","bloodgrp","address","error","componentDidMount","id","dateofbirth","render","todayDate","mapStateToProps","mapDispatchToProps","dispatch","onGetUserProfile","userToken","getUserProfile","onUpdateUserProfile","userProfileData"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,MAAR,EAAgBC,GAAhB,EAAqBC,GAArB,EAA0BC,IAA1B,EAAgCC,SAAhC,EAA2CC,KAA3C,QAAwD,YAAxD;AACA,OAAO,oBAAP;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,OAAZ,MAAyB,qBAAzB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;AAEA,MAAMC,WAAN,SAA0BX,SAA1B,CAAoC;AAClCY,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAiCnBC,aAjCmB,GAiCFC,IAAD,IAAU;AACxB,WAAKC,KAAL,CAAWC,WAAX,CAAuBC,GAAvB,GAA6BT,UAAU,CAACM,IAAD,EAAO,YAAP,CAAvC;AACD,KAnCkB;;AAAA,SAqCnBI,iBArCmB,GAqCC,MAAM;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAe,KAAKP,KAApB,CAAZ;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,KAAL,CAAWC,WAAvB,EAFwB,CAGxB;AACD,KAzCkB;;AAEjB,SAAKD,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAE;AACXO,QAAAA,GAAG,EAAE,IADM;AAEXC,QAAAA,KAAK,EAAEC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAFI;AAGXC,QAAAA,SAAS,EAAE,IAHA;AAIXV,QAAAA,GAAG,EAAET,UAAU,CAAC,IAAIoB,IAAJ,EAAD,EAAa,YAAb,CAJJ;AAKXC,QAAAA,IAAI,EAAE,IALK;AAMXC,QAAAA,MAAM,EAAE,IANG;AAOXC,QAAAA,QAAQ,EAAE,IAPC;AAQXC,QAAAA,OAAO,EAAE;AARE,OADF;AAWXf,MAAAA,GAAG,EAAET,UAAU,CAAC,IAAIoB,IAAJ,EAAD,EAAa,YAAb,CAXJ;AAYXK,MAAAA,KAAK,EAAE;AAZI,KAAb;AAcD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKnB,KAAL,CAAWC,WAAX,GAAyB;AACvBO,MAAAA,GAAG,EAAE,KAAKX,KAAL,CAAWI,WAAX,CAAuBmB,EADL;AAEvBN,MAAAA,IAAI,EAAE,KAAKjB,KAAL,CAAWI,WAAX,CAAuBa,IAFN;AAGvBC,MAAAA,MAAM,EAAE,KAAKlB,KAAL,CAAWI,WAAX,CAAuBc,MAHR;AAIvBH,MAAAA,SAAS,EAAE,KAAKf,KAAL,CAAWI,WAAX,CAAuBW,SAJX;AAKvBV,MAAAA,GAAG,EAAE,KAAKL,KAAL,CAAWI,WAAX,CAAuBoB,WALL;AAMvBJ,MAAAA,OAAO,EAAE,KAAKpB,KAAL,CAAWI,WAAX,CAAuBgB,OANT;AAOvBD,MAAAA,QAAQ,EAAE,KAAKnB,KAAL,CAAWI,WAAX,CAAuBe,QAPV;AAQvBP,MAAAA,KAAK,EAAEC,cAAc,CAACC,OAAf,CAAuB,OAAvB;AARgB,KAAzB;AAUAP,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAe,KAAKV,KAApB,CAAZ;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAe,KAAKP,KAApB,CAAZ;AACD;;AAYDsB,EAAAA,MAAM,GAAG;AACP,QAAIC,SAAS,GAAG9B,UAAU,CAAC,IAAIoB,IAAJ,EAAD,EAAa,YAAb,CAA1B;AACA,wBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAE,wBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKhB,KAAL,CAAWqB,KAAX,KAAqB,IAArB,GACC,KAAKrB,KAAL,CAAWqB,KADZ,GAGC,sBAJJ,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDADF,CANF,eASE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,eAC8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD9B,eAEE,oBAAC,eAAD;AAAiB,MAAA,KAAK,EAAE,IAAIL,IAAJ,EAAxB;AAAoC,MAAA,QAAQ,EAAE,KAAKf,aAAnD;AAAkE,MAAA,MAAM,EAAE,SAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAE,WAAnB;AAAgC,MAAA,KAAK,EAAC,SAAtC;AAAgD,MAAA,OAAO,EAAE,KAAKK,iBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,CADF,CATF,CADF,CADF,CADF;AAuBD;;AArEiC;;AAwEpC,MAAMqB,eAAe,GAAGxB,KAAK,IAAI;AAC/B,SAAO;AACLC,IAAAA,WAAW,EAAED,KAAK,CAACL,WAAN,CAAkBM,WAD1B;AAELiB,IAAAA,KAAK,EAAElB,KAAK,CAACL,WAAN,CAAkBuB;AAFpB,GAAP;AAID,CALD;;AAOA,MAAMO,kBAAkB,GAAGC,QAAQ,IAAI;AACrC,SAAO;AACLC,IAAAA,gBAAgB,EAAGC,SAAD,IAAeF,QAAQ,CAAClC,OAAO,CAACqC,cAAR,CAAuBD,SAAvB,CAAD,CADpC;AAELE,IAAAA,mBAAmB,EAAGC,eAAD,IAAqBL,QAAQ,CAAClC,OAAO,CAACW,iBAAR,CAA0B4B,eAA1B,CAAD;AAF7C,GAAP;AAID,CALD;;AAOA,eAAexC,OAAO,CAACiC,eAAD,EAAkBC,kBAAlB,CAAP,CAA6C9B,WAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport {Button, Col, Row, Form, FormGroup, Label } from \"reactstrap\";\nimport \"./UserProfile.scss\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions\";\nimport dateformat from 'dateformat';\nimport ReactDatePicker from 'react-date-picker';\n\nclass UserProfile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userProfile: {\n        uid: null,\n        token: sessionStorage.getItem('token'),\n        contactNo: null,\n        dob: dateformat(new Date(), 'yyyy-mm-dd'),\n        name: null,\n        gender: null,\n        bloodgrp: null,\n        address: null\n      },\n      dob: dateformat(new Date(), 'yyyy-mm-dd'),\n      error: null\n    };\n  };\n  \n  componentDidMount() {\n    this.state.userProfile = {\n      uid: this.props.userProfile.id,\n      name: this.props.userProfile.name,\n      gender: this.props.userProfile.gender,\n      contactNo: this.props.userProfile.contactNo,\n      dob: this.props.userProfile.dateofbirth,\n      address: this.props.userProfile.address,\n      bloodgrp: this.props.userProfile.bloodgrp,\n      token: sessionStorage.getItem('token')\n    };\n    console.log(JSON.stringify(this.props));\n    console.log(JSON.stringify(this.state));\n  }\n  \n  selectUserDOB = (date) => {\n    this.state.userProfile.dob = dateformat(date, 'yyyy-mm-dd');\n  };\n  \n  updateUserProfile = () => {\n    console.log(JSON.stringify(this.state));\n    console.log(this.state.userProfile);\n    // this.props.onUpdateUserProfile(this.state.userProfile);\n  };\n  \n  render() {\n    let todayDate = dateformat(new Date(), 'yyyy-mm-dd');\n    return (\n      <Row>\n        <Col md=\"12\">\n          <div className={'profileUpdateContainer'}>\n            {this.props.error !== null ? (\n              this.props.error\n            ) : (\n              'Updated successfully'\n              )}\n            <h6>\n              <strong>Please set your Date of Birth to proceed.</strong>\n            </h6>\n            <Form>\n              <FormGroup>\n                <Label>Date of birth</Label><br/>\n                <ReactDatePicker value={new Date()} onChange={this.selectUserDOB} format={'y-MM-dd'}/>\n                <Button className={'updateBtn'} color=\"primary\" onClick={this.updateUserProfile}>Update</Button>\n              </FormGroup>\n            </Form>\n          </div>\n        </Col>\n      </Row>\n    );\n  };\n}\n\nconst mapStateToProps = state => {\n  return {\n    userProfile: state.UserProfile.userProfile,\n    error: state.UserProfile.error\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onGetUserProfile: (userToken) => dispatch(actions.getUserProfile(userToken)),\n    onUpdateUserProfile: (userProfileData) => dispatch(actions.updateUserProfile(userProfileData))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfile);\n"]},"metadata":{},"sourceType":"module"}