{"ast":null,"code":"import _classCallCheck from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from\"react-redux\";import*as actions from\"../../store/actions\";import{Link,Redirect}from\"react-router-dom\";import getPageLink from\"../../components/Common/WizardButtons/StageManager\";import{Col,Row}from\"reactstrap\";import{Helmet}from\"react-helmet\";import styles from'./SelectSlot.scss';import UserProfile from\"../UserProfile/UserProfile\";import Breadcrumb from\"../../components/Common/Breadcrumb/Breadcrumb\";import WizardButtons from\"../../components/Common/WizardButtons/WizardButtons\";import ImgWithOverlayTextGroup from\"../ImgWithOverlayText/ImgWithOverlayTextGroup\";var SelectSlot=/*#__PURE__*/function(_Component){_inherits(SelectSlot,_Component);var _super=_createSuper(SelectSlot);function SelectSlot(props){var _this;_classCallCheck(this,SelectSlot);_this=_super.call(this,props);_this.handleSlotSelection=function(e){_this.setState({slotId:e.target.value});};_this.generateSlots=function(slotList){var slotListing=slotList.map(function(slot){return/*#__PURE__*/React.createElement(\"li\",{key:slot.id},/*#__PURE__*/React.createElement(\"span\",null,slot.id),/*#__PURE__*/React.createElement(\"span\",null,slot.startTime),/*#__PURE__*/React.createElement(\"span\",null,slot.period),/*#__PURE__*/React.createElement(\"span\",null,slot.waitingTime),/*#__PURE__*/React.createElement(\"span\",null,slot.status),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"button\",{className:'btn btn-link',onClick:_this.handleSlotSelection,value:slot.id},\"Select\")));});return slotListing;};_this.handleSlotPeriodChange=function(e){var slots=_this.props.slots.slots;if(e.target.value!=='all'){slots=_this.props.slots.slots.filter(function(slot){return slot.period===e.target.value;});}_this.setState({slotListing:_this.generateSlots(slots)});};_this.handlerNextBtnClick=function(){_this.props.appointmentData.slotId=_this.state.slotId;_this.props.onSetAppointmentData(_this.props.appointmentData);};_this.state={slotId:null};_this.handlerNextBtnClick.bind(_assertThisInitialized(_this));_this.handleSlotSelection.bind(_assertThisInitialized(_this));return _this;}_createClass(SelectSlot,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props$appointme=this.props.appointmentData,phyId=_this$props$appointme.phyId,clinicId=_this$props$appointme.clinicId,appointmentDate=_this$props$appointme.appointmentDate;this.props.onGetSlots(phyId,clinicId,appointmentDate);this.state.slotListing=this.generateSlots(this.props.slots.slots);}},{key:\"render\",value:function render(){if(this.props.userProfile.success===0){sessionStorage.setItem('conferkare.appointment.activeStage',0);return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}var pageUrl=getPageLink();return/*#__PURE__*/React.createElement(Col,{md:\"12\",className:\"mt10\"},/*#__PURE__*/React.createElement(Redirect,{to:pageUrl}),/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"style\",null,'.header .logo h2{color:#333;} .mt10{margin-top:10px;} main{ background: #fff; } .header .search{border:1px solid #ccc} .header{border-bottom:1px solid #666} ')),this.props.profileCompliant===false&&/*#__PURE__*/React.createElement(UserProfile,null),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"8\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Select Slot\"),/*#__PURE__*/React.createElement(Breadcrumb,{activeStep:'4'})),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"div\",{className:'slotBox'},/*#__PURE__*/React.createElement(\"h4\",null,\"Select the appointment slot\",/*#__PURE__*/React.createElement(WizardButtons,{nextBtnCallback:this.handlerNextBtnClick})),/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"style\",null,'.header .logo h2{color:#333;} .mt10{margin-top:10px;} main{ background: #fff; } .header .search{border:1px solid #ccc} .header{border-bottom:1px solid #666} .header .logo img{height:80px} ')),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-check\",key:'allSlots'},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"react-tips\",value:'all',defaultChecked:true,onClick:this.handleSlotPeriodChange,className:\"form-check-input\"}),\"All\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-check\",key:'morningSlots'},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"react-tips\",value:'morning',onClick:this.handleSlotPeriodChange,className:\"form-check-input\"}),\"Morning\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-check\",key:'eveningSlots'},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"react-tips\",value:'evening',onClick:this.handleSlotPeriodChange,className:\"form-check-input\"}),\"Evening\")))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"ul\",{className:'slotsListingContainer'},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"span\",null,\"S. No.\"),/*#__PURE__*/React.createElement(\"span\",null,\"Slot time\"),/*#__PURE__*/React.createElement(\"span\",null,\"Morning/Evening\"),/*#__PURE__*/React.createElement(\"span\",null,\"Wait time\"),/*#__PURE__*/React.createElement(\"span\",null,\"Status\"),/*#__PURE__*/React.createElement(\"span\",null,\"\\xA0\")),this.state.slotListing)))))))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(ImgWithOverlayTextGroup,null))));}}]);return SelectSlot;}(Component);var mapStateToProps=function mapStateToProps(state){return{userProfile:state.UserProfile.userProfile,profileCompliant:state.UserProfile.userProfile.dateofbirth!=='0000-00-00',appointmentData:state.newAppointment.appointmentData,slots:state.selectSlot.slots};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onGetSlots:function onGetSlots(phyId,clinicId,slotDate){return dispatch(actions.getSlots(phyId,clinicId,slotDate));},onSetAppointmentData:function onSetAppointmentData(appointmentData){return dispatch(actions.setAppointmentData(appointmentData));}};};export default connect(mapStateToProps,mapDispatchToProps)(SelectSlot);","map":null,"metadata":{},"sourceType":"module"}