{"ast":null,"code":"import _classCallCheck from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button,Col,Row,Form,FormGroup,Label}from\"reactstrap\";import\"./UserProfile.scss\";import{connect}from\"react-redux\";import*as actions from\"../../store/actions\";import dateformat from'dateformat';import DatePicker from'react-date-picker';var UserProfile=/*#__PURE__*/function(_Component){_inherits(UserProfile,_Component);var _super=_createSuper(UserProfile);function UserProfile(props){var _this;_classCallCheck(this,UserProfile);_this=_super.call(this,props);_this.selectUserDOB=function(dob){_this.setState({dob:dob});};_this.updateUserProfile=function(){_this.state.userProfile.dob=dateformat(_this.state.dob,'yyyy-mm-dd');console.log(\"request object -- \"+JSON.stringify(_this.state.userProfile));_this.props.onUpdateUserProfile(_this.state.userProfile);};_this.state={userProfile:{uid:null,token:sessionStorage.getItem('token'),contactno:null,dob:new Date(),name:null,gender:null,bloodgrp:null,Address:null,email:null},dob:new Date(),error:null};return _this;}_createClass(UserProfile,[{key:\"componentDidMount\",value:function componentDidMount(){console.log(this.props.userProfile);this.state.userProfile={uid:this.props.userProfile.id,name:this.props.userProfile.name,gender:this.props.userProfile.gender,contactno:this.props.userProfile.contactno,dob:this.props.userProfile.dateofbirth,Address:this.props.userProfile.address,bloodgrp:this.props.userProfile.bloodgroup,token:sessionStorage.getItem('token')};}},{key:\"render\",value:function render(){var todayDate=dateformat(new Date(),'yyyy-mm-dd');return/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:'profileUpdateContainer'},this.props.error!==null&&/*#__PURE__*/React.createElement(\"strong\",null,this.props.error,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"h6\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Please set your Date of Birth to proceed.\")),/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Date of birth\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(DatePicker,{value:this.state.dob,onChange:this.selectUserDOB,format:'y-MM-dd'}),/*#__PURE__*/React.createElement(Button,{className:'updateBtn',color:\"primary\",onClick:this.updateUserProfile},\"Update\"))))));}}]);return UserProfile;}(Component);var mapStateToProps=function mapStateToProps(state){return{userProfile:state.UserProfile.userProfile,error:state.UserProfile.error};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onGetUserProfile:function onGetUserProfile(userToken){return dispatch(actions.getUserProfile(userToken));},onUpdateUserProfile:function onUpdateUserProfile(userProfileData){return dispatch(actions.updateUserProfile(userProfileData));}};};export default connect(mapStateToProps,mapDispatchToProps)(UserProfile);","map":null,"metadata":{},"sourceType":"module"}