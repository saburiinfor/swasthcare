{"ast":null,"code":"import axios from 'axios';\nimport FormData from 'form-data';\nimport * as actionTypes from './actionTypes'; // SuccessHandler for User profile api\n\nexport const userDetailsSuccess = userProfile => {\n  return {\n    type: actionTypes.GET_USERDETAIL_SUCCESS,\n    userProfile\n  };\n};\nexport const userUpdateSuccess = userProfile => {\n  return {\n    type: actionTypes.UPDATE_USERDETAILS_SUCCESS,\n    userProfile\n  };\n};\nexport const userUpdateFailure = error => {\n  return {\n    type: actionTypes.UPDATE_USERDETAILS_FAILURE,\n    error: error\n  };\n};\nexport const getUserProfile = userToken => {\n  return dispatch => {\n    const userData = new FormData();\n    userData.append(\"token\", userToken);\n    axios.post(actionTypes.API_URL + \"User/getbytoken/\", userData).then(response => {\n      console.log('inside profile data response inside userProfile');\n      console.log(\"res ***\" + JSON.stringify(response.data));\n      let userProfile = response.data;\n      dispatch(userDetailsSuccess(userProfile));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const updateUserProfile = userProfile => {\n  return dispatch => {\n    axios.post(actionTypes.API_URL + \"User/update/\", userProfile).then(response => {\n      console.log('inside profile update call');\n      console.log(JSON.stringify(response.data));\n      let userProfile = response.data;\n\n      if (response.data.success === 1) {\n        dispatch(userUpdateSuccess(userProfile));\n      } else {\n        dispatch(userUpdateFailure(userProfile.error.errormsg));\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};","map":{"version":3,"sources":["/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/src/store/actions/UserProfile.js"],"names":["axios","FormData","actionTypes","userDetailsSuccess","userProfile","type","GET_USERDETAIL_SUCCESS","userUpdateSuccess","UPDATE_USERDETAILS_SUCCESS","userUpdateFailure","error","UPDATE_USERDETAILS_FAILURE","getUserProfile","userToken","dispatch","userData","append","post","API_URL","then","response","console","log","JSON","stringify","data","catch","err","updateUserProfile","success","errormsg"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B,C,CAEA;;AACA,OAAO,MAAMC,kBAAkB,GAAIC,WAAD,IAAiB;AACjD,SAAO;AACLC,IAAAA,IAAI,EAAEH,WAAW,CAACI,sBADb;AAELF,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,MAAMG,iBAAiB,GAAIH,WAAD,IAAiB;AAChD,SAAO;AACLC,IAAAA,IAAI,EAAEH,WAAW,CAACM,0BADb;AAELJ,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,MAAMK,iBAAiB,GAAIC,KAAD,IAAW;AAC1C,SAAO;AACLL,IAAAA,IAAI,EAAEH,WAAW,CAACS,0BADb;AAELD,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,MAAME,cAAc,GAAIC,SAAD,IAAe;AAC3C,SAAOC,QAAQ,IAAI;AACjB,UAAMC,QAAQ,GAAG,IAAId,QAAJ,EAAjB;AACAc,IAAAA,QAAQ,CAACC,MAAT,CAAgB,OAAhB,EAAyBH,SAAzB;AACAb,IAAAA,KAAK,CAACiB,IAAN,CAAWf,WAAW,CAACgB,OAAZ,GAAsB,kBAAjC,EAAqDH,QAArD,EAA+DI,IAA/D,CACEC,QAAQ,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,iDAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAYC,IAAI,CAACC,SAAL,CAAeJ,QAAQ,CAACK,IAAxB,CAAxB;AACA,UAAIrB,WAAW,GAAGgB,QAAQ,CAACK,IAA3B;AACAX,MAAAA,QAAQ,CAACX,kBAAkB,CAACC,WAAD,CAAnB,CAAR;AACD,KANH,EAMKsB,KANL,CAMWC,GAAG,IAAI;AAChBN,MAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACD,KARD;AASD,GAZD;AAaD,CAdM;AAgBP,OAAO,MAAMC,iBAAiB,GAAIxB,WAAD,IAAiB;AAChD,SAAOU,QAAQ,IAAI;AACjBd,IAAAA,KAAK,CAACiB,IAAN,CAAWf,WAAW,CAACgB,OAAZ,GAAsB,cAAjC,EAAiDd,WAAjD,EAA8De,IAA9D,CACEC,QAAQ,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeJ,QAAQ,CAACK,IAAxB,CAAZ;AACA,UAAIrB,WAAW,GAAGgB,QAAQ,CAACK,IAA3B;;AACA,UAAIL,QAAQ,CAACK,IAAT,CAAcI,OAAd,KAA0B,CAA9B,EAAiC;AAC/Bf,QAAAA,QAAQ,CAACP,iBAAiB,CAACH,WAAD,CAAlB,CAAR;AACD,OAFD,MAEO;AACLU,QAAAA,QAAQ,CAACL,iBAAiB,CAACL,WAAW,CAACM,KAAZ,CAAkBoB,QAAnB,CAAlB,CAAR;AACD;AACF,KAVH,EAUKJ,KAVL,CAUWC,GAAG,IAAI;AACdN,MAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACH,KAZD;AAaD,GAdD;AAeD,CAhBM","sourcesContent":["import axios from 'axios';\nimport FormData from 'form-data';\nimport * as actionTypes from './actionTypes';\n\n// SuccessHandler for User profile api\nexport const userDetailsSuccess = (userProfile) => {\n  return {\n    type: actionTypes.GET_USERDETAIL_SUCCESS,\n    userProfile\n  };\n};\n\nexport const userUpdateSuccess = (userProfile) => {\n  return {\n    type: actionTypes.UPDATE_USERDETAILS_SUCCESS,\n    userProfile\n  };\n};\n\nexport const userUpdateFailure = (error) => {\n  return {\n    type: actionTypes.UPDATE_USERDETAILS_FAILURE,\n    error: error\n  };\n};\n\nexport const getUserProfile = (userToken) => {\n  return dispatch => {\n    const userData = new FormData();\n    userData.append(\"token\", userToken);\n    axios.post(actionTypes.API_URL + \"User/getbytoken/\", userData).then(\n      response => {\n        console.log('inside profile data response inside userProfile');\n        console.log(\"res ***\" + JSON.stringify(response.data));\n        let userProfile = response.data;\n        dispatch(userDetailsSuccess(userProfile));\n      }).catch(err => {\n      console.log(err);\n    });\n  };\n};\n\nexport const updateUserProfile = (userProfile) => {\n  return dispatch => {\n    axios.post(actionTypes.API_URL + \"User/update/\", userProfile).then(\n      response => {\n        console.log('inside profile update call');\n        console.log(JSON.stringify(response.data));\n        let userProfile = response.data;\n        if (response.data.success === 1) {\n          dispatch(userUpdateSuccess(userProfile));\n        } else {\n          dispatch(userUpdateFailure(userProfile.error.errormsg));\n        }\n      }).catch(err => {\n        console.log(err);\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}