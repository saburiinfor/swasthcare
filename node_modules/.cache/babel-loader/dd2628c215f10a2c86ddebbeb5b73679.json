{"ast":null,"code":"import _defineProperty from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import styles from'./LoginForm.module.scss';import{Button,Col,Form,Row}from\"reactstrap\";import Aux from\"../../hoc/Auxwrap\";import Carousel from'../Carousel/Carousel';import{Link,Redirect}from\"react-router-dom\";import{BrowserView,MobileView}from\"react-device-detect\";import{connect}from\"react-redux\";import*as actions from\"../../store/actions/index\";import InputField from\"../../components/Common/Input/Input\";import ButtonField from\"../../components/Common/Button/Button\";import{checkValidity}from\"../../shared/utility\";var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);var _super=_createSuper(LoginForm);function LoginForm(){var _this;_classCallCheck(this,LoginForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formIsValid:false,controls:{email:{elementType:\"input\",elementConfig:{name:\"email\",type:\"email\",placeholder:\"Username\"},value:\"\",validation:{required:true,isEmail:true},valid:false,touched:false,errorMessage:\"\"},password:{elementType:\"input\",elementConfig:{name:\"pwd\",type:\"password\",placeholder:\"Password\"},value:\"\",validation:{required:true/* minLength: 6*/},valid:false,touched:false,errorMessage:\"\"},userType:{elementType:\"input\",elementConfig:{name:\"userType\",type:\"hidden\"},value:\"1\",validation:{required:false},valid:true,touched:true,errorMessage:\"\"},remember:{elementType:\"checkbox\",elementConfig:{name:\"rememberMe\",type:\"checkbox\",label:\"Remember Me\",checked:true},value:\"\",valid:true,touched:false}},isSignup:true,isFormValid:false,enableSubmit:false};_this.inputBluredHandler=function(event,controlName){var checkValid=checkValidity(event.target.value,_this.state.controls[controlName].validation);var updatedControls=_objectSpread({},_this.state.controls,_defineProperty({},controlName,_objectSpread({},_this.state.controls[controlName],{valid:checkValid.isValid,errorMessage:checkValid.error,touched:true})));var formIsValid=true;for(var inputIdentifier in updatedControls){formIsValid=updatedControls[inputIdentifier].valid&&formIsValid;}_this.setState({controls:updatedControls,formIsValid:formIsValid});};_this.inputChangedHandler=function(event,controlName){var updatedControls=_objectSpread({},_this.state.controls,_defineProperty({},controlName,_objectSpread({},_this.state.controls[controlName],{value:event.target.value})));var pwdHasValue=false;if(controlName==='password'&&event.target.value!==''){pwdHasValue=true;}_this.setState({controls:updatedControls,enableSubmit:pwdHasValue});};_this.submitHandler=function(event){event.preventDefault();if(_this.state.formIsValid){_this.props.onAuth(_this.state.controls.email.value,_this.state.controls.password.value,_this.state.controls.userType.value,_this.state.isSignup);}};return _this;}_createClass(LoginForm,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){var _this2=this;var formElementsArray=[];for(var key in this.state.controls){formElementsArray.push({id:key,config:this.state.controls[key]});}var form=formElementsArray.map(function(formElement){return/*#__PURE__*/React.createElement(Row,{key:formElement.id},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(InputField,{elementType:formElement.config.elementType,elementConfig:formElement.config.elementConfig,value:formElement.config.value,invalid:!formElement.config.valid,shouldValidate:formElement.config.validation,touched:formElement.config.touched,errorMessage:formElement.config.errorMessage,changed:function changed(event){return _this2.inputChangedHandler(event,formElement.id);},blured:function blured(event){return _this2.inputBluredHandler(event,formElement.id);}})));});var errorMessage=null;if(this.props.error){errorMessage=/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger mt-2\"},this.props.error);}if(this.props.isAuthenticated){return/*#__PURE__*/React.createElement(Redirect,{to:this.props.authRedirectPath});}return/*#__PURE__*/React.createElement(Aux,null,/*#__PURE__*/React.createElement(Col,{sm:\"8\"},/*#__PURE__*/React.createElement(BrowserView,null,/*#__PURE__*/React.createElement(Carousel,null),/*#__PURE__*/React.createElement(\"div\",{className:\"keyFeatures\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,\"* Flexibility in Booking and Scheduling Appointments Via Calendar \"),/*#__PURE__*/React.createElement(\"li\",null,\"* 10,000 Doctors, 30,000 Lab Facilities and 8,000  Associated Clinics  \"),/*#__PURE__*/React.createElement(\"li\",null,\"* Store & Access Electronic Prescriptions and Lab Reports \"),/*#__PURE__*/React.createElement(\"li\",null,\"* Get Reminder via SMS and Mail \"),/*#__PURE__*/React.createElement(\"li\",null,\"* Make Easy and Secure Online Payment\"),/*#__PURE__*/React.createElement(\"li\",null,\"* Trusted by 50,000 Customers\"),/*#__PURE__*/React.createElement(\"li\",null,\"* 24x7 Expert Support\"),/*#__PURE__*/React.createElement(\"li\",null,\"* Home Clinic Services\"))))),/*#__PURE__*/React.createElement(Col,{sm:\"4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bgWhite\"},/*#__PURE__*/React.createElement(\"div\",{className:'welcomeMsg'},\"Welcome to ConferKare\"),/*#__PURE__*/React.createElement(Form,{className:\"form\",noValidate:true},form,/*#__PURE__*/React.createElement(ButtonField,{color:\"primary\",className:'submitBtn',btnType:\"customButton\",clicked:this.submitHandler,disabled:!this.state.enableSubmit},\"Sign In\"),errorMessage),/*#__PURE__*/React.createElement(BrowserView,null,/*#__PURE__*/React.createElement(\"p\",{id:\"signUp\"},/*#__PURE__*/React.createElement(Link,{to:\"/createuser\",className:\"textDn\"},\"New User, Sign Up \")))),/*#__PURE__*/React.createElement(MobileView,null,/*#__PURE__*/React.createElement(\"div\",{className:\"globalLinks-mob\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/createuser\"},\"Sign Up\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"Privacy\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"Contact us\")))))));}}]);return LoginForm;}(Component);var mapStateToProps=function mapStateToProps(state){return{loading:state.auth.loading,error:state.auth.error,isAuthenticated:state.auth.token!==null,authRedirectPath:state.auth.authRedirectPath};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onAuth:function onAuth(email,password,userType,isSignup){return dispatch(actions.auth(email,password,userType,isSignup));},onSetAuthRedirectPath:function onSetAuthRedirectPath(authRedirectPath){return dispatch(actions.setAuthRedirectPath(authRedirectPath));}};};export default connect(mapStateToProps,mapDispatchToProps)(LoginForm);","map":null,"metadata":{},"sourceType":"module"}