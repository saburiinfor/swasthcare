{"ast":null,"code":"var _jsxFileName = \"/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/src/containers/UserProfile/UserProfile.js\";\nimport React, { Component } from 'react';\nimport { Button, Col, Row, Form, FormGroup, Label } from \"reactstrap\";\nimport \"./UserProfile.scss\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions\";\nimport dateformat from 'dateformat';\nimport DatePicker from 'react-date-picker';\n\nclass UserProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.selectUserDOB = dob => {\n      this.setState({\n        dob\n      });\n    };\n\n    this.updateUserProfile = () => {\n      console.log(this.state.dob);\n      this.state.userProfile.dob = dateformat(this.state.dob, 'yyyy-mm-dd');\n      console.log(this.state.userProfile); // this.props.onUpdateUserProfile(this.state.userProfile);\n    };\n\n    this.state = {\n      userProfile: {\n        uid: null,\n        token: sessionStorage.getItem('token'),\n        contactNo: null,\n        dob: new Date(),\n        name: null,\n        gender: null,\n        bloodgrp: null,\n        address: null\n      },\n      dob: new Date(),\n      error: null\n    };\n  }\n\n  componentDidMount() {\n    this.state.userProfile = {\n      uid: this.props.userProfile.id,\n      name: this.props.userProfile.name,\n      gender: this.props.userProfile.gender,\n      contactNo: this.props.userProfile.contactNo,\n      dob: this.props.userProfile.dateofbirth,\n      address: this.props.userProfile.address,\n      bloodgrp: this.props.userProfile.bloodgrp,\n      token: sessionStorage.getItem('token')\n    };\n    console.log(JSON.stringify(this.props));\n    console.log(JSON.stringify(this.state));\n  }\n\n  render() {\n    let todayDate = dateformat(new Date(), 'yyyy-mm-dd');\n    return /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'profileUpdateContainer',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }\n    }, this.props.error !== null ? this.props.error : 'Updated successfully', /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }, \"Please set your Date of Birth to proceed.\")), /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, \"Date of birth\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(DatePicker, {\n      value: this.state.dob,\n      returnValue: 'range',\n      onChange: this.selectUserDOB,\n      format: 'y-MM-dd',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      className: 'updateBtn',\n      color: \"primary\",\n      onClick: this.updateUserProfile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, \"Update\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userProfile: state.UserProfile.userProfile,\n    error: state.UserProfile.error\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onGetUserProfile: userToken => dispatch(actions.getUserProfile(userToken)),\n    onUpdateUserProfile: userProfileData => dispatch(actions.updateUserProfile(userProfileData))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfile);","map":{"version":3,"sources":["/Users/lravikiran/SaburiInformatics/swasthcare-project/swasthcare/src/containers/UserProfile/UserProfile.js"],"names":["React","Component","Button","Col","Row","Form","FormGroup","Label","connect","actions","dateformat","DatePicker","UserProfile","constructor","props","selectUserDOB","dob","setState","updateUserProfile","console","log","state","userProfile","uid","token","sessionStorage","getItem","contactNo","Date","name","gender","bloodgrp","address","error","componentDidMount","id","dateofbirth","JSON","stringify","render","todayDate","mapStateToProps","mapDispatchToProps","dispatch","onGetUserProfile","userToken","getUserProfile","onUpdateUserProfile","userProfileData"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Button, Col, Row, Form, FormGroup, Label } from \"reactstrap\";\nimport \"./UserProfile.scss\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions\";\nimport dateformat from 'dateformat';\nimport DatePicker from 'react-date-picker';\n\nclass UserProfile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userProfile: {\n        uid: null,\n        token: sessionStorage.getItem('token'),\n        contactNo: null,\n        dob: new Date(),\n        name: null,\n        gender: null,\n        bloodgrp: null,\n        address: null\n      },\n      dob: new Date(),\n      error: null\n    };\n  };\n  \n  componentDidMount() {\n    this.state.userProfile = {\n      uid: this.props.userProfile.id,\n      name: this.props.userProfile.name,\n      gender: this.props.userProfile.gender,\n      contactNo: this.props.userProfile.contactNo,\n      dob: this.props.userProfile.dateofbirth,\n      address: this.props.userProfile.address,\n      bloodgrp: this.props.userProfile.bloodgrp,\n      token: sessionStorage.getItem('token')\n    };\n    console.log(JSON.stringify(this.props));\n    console.log(JSON.stringify(this.state));\n  }\n  \n  selectUserDOB = (dob) => {\n    this.setState({dob});\n  };\n  \n  updateUserProfile = () => {\n    console.log(this.state.dob);\n    this.state.userProfile.dob = dateformat(this.state.dob, 'yyyy-mm-dd');\n    console.log(this.state.userProfile);\n    // this.props.onUpdateUserProfile(this.state.userProfile);\n  };\n  \n  render() {\n    let todayDate = dateformat(new Date(), 'yyyy-mm-dd');\n    return (\n      <Row>\n        <Col md=\"12\">\n          <div className={'profileUpdateContainer'}>\n            {this.props.error !== null ? (\n              this.props.error\n            ) : (\n              'Updated successfully'\n              )}\n            <h6>\n              <strong>Please set your Date of Birth to proceed.</strong>\n            </h6>\n            <Form>\n              <FormGroup>\n                <Label>Date of birth</Label><br/>\n                <DatePicker value={this.state.dob} returnValue={'range'} onChange={this.selectUserDOB} format={'y-MM-dd'}/>\n                <Button className={'updateBtn'} color=\"primary\" onClick={this.updateUserProfile}>Update</Button>\n              </FormGroup>\n            </Form>\n          </div>\n        </Col>\n      </Row>\n    );\n  };\n}\n\nconst mapStateToProps = state => {\n  return {\n    userProfile: state.UserProfile.userProfile,\n    error: state.UserProfile.error\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onGetUserProfile: (userToken) => dispatch(actions.getUserProfile(userToken)),\n    onUpdateUserProfile: (userProfileData) => dispatch(actions.updateUserProfile(userProfileData))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfile);\n"]},"metadata":{},"sourceType":"module"}